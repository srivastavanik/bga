{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicks\\\\Downloads\\\\breakinggood\\\\frontend\\\\src\\\\components\\\\MoleculeViewer3D.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Typography, Slider, Grid, Paper, FormControl, InputLabel, Select, MenuItem, IconButton, Tooltip, Box } from '@material-ui/core';\nimport { FullscreenOutlined, FullscreenExitOutlined, RefreshOutlined, SaveAlt, CameraAlt } from '@material-ui/icons';\nimport * as $3Dmol from '3dmol/build/3Dmol-min.js';\nimport 'xterm/css/xterm.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  viewerContainer: {\n    position: 'relative',\n    height: '400px',\n    width: '100%',\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.shape.borderRadius,\n    overflow: 'hidden'\n  },\n  fullscreenContainer: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100vw',\n    height: '100vh',\n    zIndex: 9999,\n    backgroundColor: theme.palette.background.paper\n  },\n  controlsContainer: {\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(2)\n  },\n  controlRow: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(2)\n  },\n  controlLabel: {\n    minWidth: '120px'\n  },\n  viewerControls: {\n    position: 'absolute',\n    top: theme.spacing(1),\n    right: theme.spacing(1),\n    zIndex: 100,\n    backgroundColor: 'rgba(255,255,255,0.7)',\n    borderRadius: theme.shape.borderRadius,\n    padding: theme.spacing(0.5)\n  },\n  slider: {\n    width: '100%',\n    maxWidth: '300px'\n  },\n  sliderContainer: {\n    flexGrow: 1,\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  formControl: {\n    minWidth: 120\n  }\n}));\nconst MoleculeViewer3D = ({\n  moleculeData,\n  format = 'smiles',\n  viewerType = '3dmol',\n  initialStyle = 'stick',\n  showControls = true,\n  height = 400,\n  width = '100%'\n}) => {\n  _s();\n  const classes = useStyles();\n  const viewerRef = useRef(null);\n  const containerRef = useRef(null);\n  const [viewer, setViewer] = useState(null);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [modelStyle, setModelStyle] = useState(initialStyle);\n  const [surfaceOpacity, setSurfaceOpacity] = useState(0.5);\n  const [surfaceType, setSurfaceType] = useState('VDW');\n  const [backgroundColor, setBackgroundColor] = useState('#ffffff');\n  const [rotationSpeed, setRotationSpeed] = useState(0);\n  const [isSurfaceVisible, setIsSurfaceVisible] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [molData, setMolData] = useState(null);\n  const [error, setError] = useState(null);\n  const animationRef = useRef(null);\n\n  // Determine the data format and prepare the molecule data\n  useEffect(() => {\n    setIsLoading(true);\n    setError(null);\n    if (!moleculeData) {\n      setError('No molecule data provided');\n      setIsLoading(false);\n      return;\n    }\n    const fetchMoleculeData = async () => {\n      try {\n        let data = moleculeData;\n\n        // If SMILES is provided, convert it to 3D structure via our backend API\n        if (format === 'smiles') {\n          const response = await axios.post('/api/simulation/3d-structure', {\n            smiles: moleculeData\n          });\n          if (response.data && response.data.molblock) {\n            data = response.data.molblock;\n          } else {\n            throw new Error('Failed to convert SMILES to 3D structure');\n          }\n        }\n        setMolData(data);\n        setIsLoading(false);\n      } catch (err) {\n        console.error('Error fetching molecule data:', err);\n        setError(err.message || 'Failed to load molecule data');\n        setIsLoading(false);\n      }\n    };\n    fetchMoleculeData();\n  }, [moleculeData, format]);\n\n  // Initialize the 3Dmol.js viewer\n  useEffect(() => {\n    if (!viewerRef.current || isLoading || !molData) return;\n\n    // Clean up any existing viewer\n    if (viewer) {\n      viewer.removeAllModels();\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    }\n\n    // Initialize 3Dmol.js viewer\n    const viewerConfig = {\n      backgroundColor\n    };\n    const newViewer = $3Dmol.createViewer(viewerRef.current, viewerConfig);\n    let model;\n    try {\n      if (format === 'pdb') {\n        model = newViewer.addModel(molData, 'pdb');\n      } else if (format === 'smiles' || format === 'sdf' || format === 'mol') {\n        model = newViewer.addModel(molData, 'mol');\n      } else {\n        model = newViewer.addModel(molData, format);\n      }\n\n      // Apply initial style\n      applyStyle(newViewer, model, modelStyle);\n\n      // If surface is enabled, apply it\n      if (isSurfaceVisible) {\n        applySurface(newViewer, model, surfaceType, surfaceOpacity);\n      }\n      newViewer.zoomTo();\n      newViewer.render();\n      setViewer(newViewer);\n\n      // Start animation if rotationSpeed > 0\n      if (rotationSpeed > 0) {\n        startAnimation(newViewer, rotationSpeed);\n      }\n    } catch (err) {\n      console.error('Error rendering molecule:', err);\n      setError(`Failed to render molecule: ${err.message}`);\n    }\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [molData, isLoading, backgroundColor]);\n\n  // Apply style changes\n  useEffect(() => {\n    if (!viewer) return;\n    try {\n      viewer.removeAllSurfaces();\n      applyStyle(viewer, null, modelStyle);\n      if (isSurfaceVisible) {\n        applySurface(viewer, null, surfaceType, surfaceOpacity);\n      }\n      viewer.render();\n    } catch (err) {\n      console.error('Error applying style:', err);\n    }\n  }, [viewer, modelStyle, isSurfaceVisible, surfaceType, surfaceOpacity]);\n\n  // Handle background color changes\n  useEffect(() => {\n    if (!viewer) return;\n    viewer.setBackgroundColor(backgroundColor);\n    viewer.render();\n  }, [backgroundColor, viewer]);\n\n  // Handle rotation speed changes\n  useEffect(() => {\n    if (!viewer) return;\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n      animationRef.current = null;\n    }\n    if (rotationSpeed > 0) {\n      startAnimation(viewer, rotationSpeed);\n    }\n  }, [rotationSpeed, viewer]);\n\n  // Apply style to the model\n  const applyStyle = (viewer, model, style) => {\n    if (!viewer) return;\n\n    // Apply to all models if model is not specified\n    const selector = model ? {\n      model\n    } : {};\n    viewer.removeAllStyles();\n    switch (style) {\n      case 'stick':\n        viewer.setStyle(selector, {\n          stick: {}\n        });\n        break;\n      case 'line':\n        viewer.setStyle(selector, {\n          line: {}\n        });\n        break;\n      case 'cross':\n        viewer.setStyle(selector, {\n          cross: {\n            linewidth: 5\n          }\n        });\n        break;\n      case 'sphere':\n        viewer.setStyle(selector, {\n          sphere: {\n            scale: 0.3\n          }\n        });\n        break;\n      case 'cartoon':\n        viewer.setStyle(selector, {\n          cartoon: {}\n        });\n        break;\n      case 'ballAndStick':\n        viewer.setStyle(selector, {\n          stick: {\n            radius: 0.15\n          },\n          sphere: {\n            scale: 0.3\n          }\n        });\n        break;\n      default:\n        viewer.setStyle(selector, {\n          stick: {}\n        });\n    }\n  };\n\n  // Apply surface to the model\n  const applySurface = (viewer, model, surfaceType, opacity) => {\n    if (!viewer) return;\n    const selector = model ? {\n      model\n    } : {};\n    const surfaceOptions = {\n      opacity\n    };\n    switch (surfaceType) {\n      case 'VDW':\n        viewer.addSurface($3Dmol.SurfaceType.VDW, surfaceOptions, selector);\n        break;\n      case 'SAS':\n        viewer.addSurface($3Dmol.SurfaceType.SAS, surfaceOptions, selector);\n        break;\n      case 'SES':\n        viewer.addSurface($3Dmol.SurfaceType.SES, surfaceOptions, selector);\n        break;\n      case 'MS':\n        viewer.addSurface($3Dmol.SurfaceType.MS, surfaceOptions, selector);\n        break;\n      default:\n        viewer.addSurface($3Dmol.SurfaceType.VDW, surfaceOptions, selector);\n    }\n  };\n\n  // Start rotation animation\n  const startAnimation = (viewer, speed) => {\n    if (!viewer) return;\n    const rotate = () => {\n      viewer.rotate(1 * (speed / 10), {\n        x: 0,\n        y: 1,\n        z: 0\n      });\n      viewer.render();\n      animationRef.current = requestAnimationFrame(rotate);\n    };\n    animationRef.current = requestAnimationFrame(rotate);\n  };\n\n  // Toggle fullscreen mode\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n  };\n\n  // Reset view\n  const resetView = () => {\n    if (viewer) {\n      viewer.zoomTo();\n      viewer.render();\n    }\n  };\n\n  // Take screenshot\n  const takeScreenshot = () => {\n    if (!viewer) return;\n    try {\n      const imgData = viewer.pngURI();\n      const a = document.createElement('a');\n      a.href = imgData;\n      a.download = 'molecule.png';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    } catch (err) {\n      console.error('Error taking screenshot:', err);\n    }\n  };\n\n  // Handle style change\n  const handleStyleChange = event => {\n    setModelStyle(event.target.value);\n  };\n\n  // Handle surface type change\n  const handleSurfaceTypeChange = event => {\n    setSurfaceType(event.target.value);\n  };\n\n  // Toggle surface visibility\n  const toggleSurface = () => {\n    setIsSurfaceVisible(!isSurfaceVisible);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: isFullscreen ? classes.fullscreenContainer : classes.viewerContainer,\n      style: !isFullscreen ? {\n        height: `${height}px`,\n        width\n      } : {},\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Loading molecule...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.viewerControls,\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            title: isFullscreen ? \"Exit Fullscreen\" : \"Fullscreen\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: toggleFullscreen,\n              children: isFullscreen ? /*#__PURE__*/_jsxDEV(FullscreenExitOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 35\n              }, this) : /*#__PURE__*/_jsxDEV(FullscreenOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 64\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Reset View\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: resetView,\n              children: /*#__PURE__*/_jsxDEV(RefreshOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Save Image\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: takeScreenshot,\n              children: /*#__PURE__*/_jsxDEV(CameraAlt, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: viewerRef,\n          style: {\n            width: '100%',\n            height: '100%'\n          },\n          \"data-testid\": \"molecule-viewer-3d\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), showControls && !isLoading && !error && /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.controlsContainer,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.controlRow,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.controlLabel,\n              children: \"Representation:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                value: modelStyle,\n                onChange: handleStyleChange,\n                displayEmpty: true,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"stick\",\n                  children: \"Stick\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"line\",\n                  children: \"Line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"cross\",\n                  children: \"Cross\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"sphere\",\n                  children: \"Sphere\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"ballAndStick\",\n                  children: \"Ball and Stick\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"cartoon\",\n                  children: \"Cartoon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.controlRow,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.controlLabel,\n              children: \"Surface:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: isSurfaceVisible ? \"contained\" : \"outlined\",\n              color: isSurfaceVisible ? \"primary\" : \"default\",\n              onClick: toggleSurface,\n              children: isSurfaceVisible ? \"Hide Surface\" : \"Show Surface\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), isSurfaceVisible && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.controlRow,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.controlLabel,\n                children: \"Surface Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                className: classes.formControl,\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  value: surfaceType,\n                  onChange: handleSurfaceTypeChange,\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"VDW\",\n                    children: \"Van der Waals\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"SAS\",\n                    children: \"Solvent Accessible\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"SES\",\n                    children: \"Solvent Excluded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"MS\",\n                    children: \"Molecular Surface\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.controlRow,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.controlLabel,\n                children: \"Opacity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.sliderContainer,\n                children: /*#__PURE__*/_jsxDEV(Slider, {\n                  value: surfaceOpacity,\n                  min: 0,\n                  max: 1,\n                  step: 0.1,\n                  onChange: (_, newValue) => setSurfaceOpacity(newValue),\n                  \"aria-labelledby\": \"surface-opacity-slider\",\n                  className: classes.slider\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: surfaceOpacity.toFixed(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.controlRow,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.controlLabel,\n              children: \"Background:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                value: backgroundColor,\n                onChange: e => setBackgroundColor(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"#ffffff\",\n                  children: \"White\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"#000000\",\n                  children: \"Black\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"#f5f5f5\",\n                  children: \"Light Gray\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"#121212\",\n                  children: \"Dark Gray\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"#e3f2fd\",\n                  children: \"Light Blue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.controlRow,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.controlLabel,\n              children: \"Auto-Rotate:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.sliderContainer,\n              children: /*#__PURE__*/_jsxDEV(Slider, {\n                value: rotationSpeed,\n                min: 0,\n                max: 10,\n                step: 1,\n                onChange: (_, newValue) => setRotationSpeed(newValue),\n                \"aria-labelledby\": \"rotation-speed-slider\",\n                className: classes.slider\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: rotationSpeed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 5\n  }, this);\n};\n_s(MoleculeViewer3D, \"yvhryrr96+J7vEUcu9PV+F8O35E=\", false, function () {\n  return [useStyles];\n});\n_c = MoleculeViewer3D;\nMoleculeViewer3D.propTypes = {\n  moleculeData: PropTypes.string,\n  format: PropTypes.oneOf(['smiles', 'pdb', 'mol2', 'sdf', 'cif', 'xyz']),\n  viewerType: PropTypes.string,\n  initialStyle: PropTypes.oneOf(['stick', 'line', 'cross', 'sphere', 'cartoon', 'ballAndStick']),\n  showControls: PropTypes.bool,\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nexport default MoleculeViewer3D;\nvar _c;\n$RefreshReg$(_c, \"MoleculeViewer3D\");","map":{"version":3,"names":["React","useEffect","useRef","useState","PropTypes","makeStyles","Button","Typography","Slider","Grid","Paper","FormControl","InputLabel","Select","MenuItem","IconButton","Tooltip","Box","FullscreenOutlined","FullscreenExitOutlined","RefreshOutlined","SaveAlt","CameraAlt","$3Dmol","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","useStyles","theme","viewerContainer","position","height","width","border","palette","divider","borderRadius","shape","overflow","fullscreenContainer","top","left","zIndex","backgroundColor","background","paper","controlsContainer","padding","spacing","marginTop","controlRow","display","alignItems","marginBottom","controlLabel","minWidth","viewerControls","right","slider","maxWidth","sliderContainer","flexGrow","marginLeft","marginRight","formControl","MoleculeViewer3D","moleculeData","format","viewerType","initialStyle","showControls","_s","classes","viewerRef","containerRef","viewer","setViewer","isFullscreen","setIsFullscreen","modelStyle","setModelStyle","surfaceOpacity","setSurfaceOpacity","surfaceType","setSurfaceType","setBackgroundColor","rotationSpeed","setRotationSpeed","isSurfaceVisible","setIsSurfaceVisible","isLoading","setIsLoading","molData","setMolData","error","setError","animationRef","fetchMoleculeData","data","response","post","smiles","molblock","Error","err","console","message","current","removeAllModels","cancelAnimationFrame","viewerConfig","newViewer","createViewer","model","addModel","applyStyle","applySurface","zoomTo","render","startAnimation","removeAllSurfaces","style","selector","removeAllStyles","setStyle","stick","line","cross","linewidth","sphere","scale","cartoon","radius","opacity","surfaceOptions","addSurface","SurfaceType","VDW","SAS","SES","MS","speed","rotate","x","y","z","requestAnimationFrame","toggleFullscreen","resetView","takeScreenshot","imgData","pngURI","a","document","createElement","href","download","body","appendChild","click","removeChild","handleStyleChange","event","target","value","handleSurfaceTypeChange","toggleSurface","children","ref","className","justifyContent","variant","fileName","_jsxFileName","lineNumber","columnNumber","color","title","size","onClick","container","item","xs","sm","onChange","displayEmpty","min","max","step","_","newValue","toFixed","e","_c","propTypes","string","oneOf","bool","oneOfType","number","$RefreshReg$"],"sources":["C:/Users/nicks/Downloads/breakinggood/frontend/src/components/MoleculeViewer3D.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Typography, Slider, Grid, Paper, FormControl, InputLabel, Select, MenuItem, IconButton, Tooltip, Box } from '@material-ui/core';\r\nimport { FullscreenOutlined, FullscreenExitOutlined, RefreshOutlined, SaveAlt, CameraAlt } from '@material-ui/icons';\r\nimport * as $3Dmol from '3dmol/build/3Dmol-min.js';\r\nimport 'xterm/css/xterm.css';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  viewerContainer: {\r\n    position: 'relative',\r\n    height: '400px',\r\n    width: '100%',\r\n    border: `1px solid ${theme.palette.divider}`,\r\n    borderRadius: theme.shape.borderRadius,\r\n    overflow: 'hidden',\r\n  },\r\n  fullscreenContainer: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100vw',\r\n    height: '100vh',\r\n    zIndex: 9999,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  controlsContainer: {\r\n    padding: theme.spacing(2),\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  controlRow: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  controlLabel: {\r\n    minWidth: '120px',\r\n  },\r\n  viewerControls: {\r\n    position: 'absolute',\r\n    top: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    zIndex: 100,\r\n    backgroundColor: 'rgba(255,255,255,0.7)',\r\n    borderRadius: theme.shape.borderRadius,\r\n    padding: theme.spacing(0.5),\r\n  },\r\n  slider: {\r\n    width: '100%',\r\n    maxWidth: '300px',\r\n  },\r\n  sliderContainer: {\r\n    flexGrow: 1,\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  formControl: {\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst MoleculeViewer3D = ({\r\n  moleculeData,\r\n  format = 'smiles',\r\n  viewerType = '3dmol',\r\n  initialStyle = 'stick',\r\n  showControls = true,\r\n  height = 400,\r\n  width = '100%'\r\n}) => {\r\n  const classes = useStyles();\r\n  const viewerRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  const [viewer, setViewer] = useState(null);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [modelStyle, setModelStyle] = useState(initialStyle);\r\n  const [surfaceOpacity, setSurfaceOpacity] = useState(0.5);\r\n  const [surfaceType, setSurfaceType] = useState('VDW');\r\n  const [backgroundColor, setBackgroundColor] = useState('#ffffff');\r\n  const [rotationSpeed, setRotationSpeed] = useState(0);\r\n  const [isSurfaceVisible, setIsSurfaceVisible] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [molData, setMolData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const animationRef = useRef(null);\r\n\r\n  // Determine the data format and prepare the molecule data\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    if (!moleculeData) {\r\n      setError('No molecule data provided');\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    const fetchMoleculeData = async () => {\r\n      try {\r\n        let data = moleculeData;\r\n\r\n        // If SMILES is provided, convert it to 3D structure via our backend API\r\n        if (format === 'smiles') {\r\n          const response = await axios.post('/api/simulation/3d-structure', { \r\n            smiles: moleculeData \r\n          });\r\n          \r\n          if (response.data && response.data.molblock) {\r\n            data = response.data.molblock;\r\n          } else {\r\n            throw new Error('Failed to convert SMILES to 3D structure');\r\n          }\r\n        }\r\n\r\n        setMolData(data);\r\n        setIsLoading(false);\r\n      } catch (err) {\r\n        console.error('Error fetching molecule data:', err);\r\n        setError(err.message || 'Failed to load molecule data');\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMoleculeData();\r\n  }, [moleculeData, format]);\r\n\r\n  // Initialize the 3Dmol.js viewer\r\n  useEffect(() => {\r\n    if (!viewerRef.current || isLoading || !molData) return;\r\n\r\n    // Clean up any existing viewer\r\n    if (viewer) {\r\n      viewer.removeAllModels();\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    }\r\n\r\n    // Initialize 3Dmol.js viewer\r\n    const viewerConfig = { backgroundColor };\r\n    const newViewer = $3Dmol.createViewer(viewerRef.current, viewerConfig);\r\n    \r\n    let model;\r\n    try {\r\n      if (format === 'pdb') {\r\n        model = newViewer.addModel(molData, 'pdb');\r\n      } else if (format === 'smiles' || format === 'sdf' || format === 'mol') {\r\n        model = newViewer.addModel(molData, 'mol');\r\n      } else {\r\n        model = newViewer.addModel(molData, format);\r\n      }\r\n      \r\n      // Apply initial style\r\n      applyStyle(newViewer, model, modelStyle);\r\n      \r\n      // If surface is enabled, apply it\r\n      if (isSurfaceVisible) {\r\n        applySurface(newViewer, model, surfaceType, surfaceOpacity);\r\n      }\r\n      \r\n      newViewer.zoomTo();\r\n      newViewer.render();\r\n      setViewer(newViewer);\r\n      \r\n      // Start animation if rotationSpeed > 0\r\n      if (rotationSpeed > 0) {\r\n        startAnimation(newViewer, rotationSpeed);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error rendering molecule:', err);\r\n      setError(`Failed to render molecule: ${err.message}`);\r\n    }\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [molData, isLoading, backgroundColor]);\r\n\r\n  // Apply style changes\r\n  useEffect(() => {\r\n    if (!viewer) return;\r\n    \r\n    try {\r\n      viewer.removeAllSurfaces();\r\n      applyStyle(viewer, null, modelStyle);\r\n      \r\n      if (isSurfaceVisible) {\r\n        applySurface(viewer, null, surfaceType, surfaceOpacity);\r\n      }\r\n      \r\n      viewer.render();\r\n    } catch (err) {\r\n      console.error('Error applying style:', err);\r\n    }\r\n  }, [viewer, modelStyle, isSurfaceVisible, surfaceType, surfaceOpacity]);\r\n\r\n  // Handle background color changes\r\n  useEffect(() => {\r\n    if (!viewer) return;\r\n    viewer.setBackgroundColor(backgroundColor);\r\n    viewer.render();\r\n  }, [backgroundColor, viewer]);\r\n\r\n  // Handle rotation speed changes\r\n  useEffect(() => {\r\n    if (!viewer) return;\r\n    \r\n    if (animationRef.current) {\r\n      cancelAnimationFrame(animationRef.current);\r\n      animationRef.current = null;\r\n    }\r\n    \r\n    if (rotationSpeed > 0) {\r\n      startAnimation(viewer, rotationSpeed);\r\n    }\r\n  }, [rotationSpeed, viewer]);\r\n\r\n  // Apply style to the model\r\n  const applyStyle = (viewer, model, style) => {\r\n    if (!viewer) return;\r\n    \r\n    // Apply to all models if model is not specified\r\n    const selector = model ? { model } : {};\r\n    \r\n    viewer.removeAllStyles();\r\n    \r\n    switch (style) {\r\n      case 'stick':\r\n        viewer.setStyle(selector, { stick: {} });\r\n        break;\r\n      case 'line':\r\n        viewer.setStyle(selector, { line: {} });\r\n        break;\r\n      case 'cross':\r\n        viewer.setStyle(selector, { cross: { linewidth: 5 } });\r\n        break;\r\n      case 'sphere':\r\n        viewer.setStyle(selector, { sphere: { scale: 0.3 } });\r\n        break;\r\n      case 'cartoon':\r\n        viewer.setStyle(selector, { cartoon: {} });\r\n        break;\r\n      case 'ballAndStick':\r\n        viewer.setStyle(selector, { \r\n          stick: { radius: 0.15 }, \r\n          sphere: { scale: 0.3 } \r\n        });\r\n        break;\r\n      default:\r\n        viewer.setStyle(selector, { stick: {} });\r\n    }\r\n  };\r\n\r\n  // Apply surface to the model\r\n  const applySurface = (viewer, model, surfaceType, opacity) => {\r\n    if (!viewer) return;\r\n    \r\n    const selector = model ? { model } : {};\r\n    const surfaceOptions = { opacity };\r\n    \r\n    switch (surfaceType) {\r\n      case 'VDW':\r\n        viewer.addSurface($3Dmol.SurfaceType.VDW, surfaceOptions, selector);\r\n        break;\r\n      case 'SAS':\r\n        viewer.addSurface($3Dmol.SurfaceType.SAS, surfaceOptions, selector);\r\n        break;\r\n      case 'SES':\r\n        viewer.addSurface($3Dmol.SurfaceType.SES, surfaceOptions, selector);\r\n        break;\r\n      case 'MS':\r\n        viewer.addSurface($3Dmol.SurfaceType.MS, surfaceOptions, selector);\r\n        break;\r\n      default:\r\n        viewer.addSurface($3Dmol.SurfaceType.VDW, surfaceOptions, selector);\r\n    }\r\n  };\r\n\r\n  // Start rotation animation\r\n  const startAnimation = (viewer, speed) => {\r\n    if (!viewer) return;\r\n    \r\n    const rotate = () => {\r\n      viewer.rotate(1 * (speed / 10), { x: 0, y: 1, z: 0 });\r\n      viewer.render();\r\n      animationRef.current = requestAnimationFrame(rotate);\r\n    };\r\n    \r\n    animationRef.current = requestAnimationFrame(rotate);\r\n  };\r\n\r\n  // Toggle fullscreen mode\r\n  const toggleFullscreen = () => {\r\n    setIsFullscreen(!isFullscreen);\r\n  };\r\n\r\n  // Reset view\r\n  const resetView = () => {\r\n    if (viewer) {\r\n      viewer.zoomTo();\r\n      viewer.render();\r\n    }\r\n  };\r\n\r\n  // Take screenshot\r\n  const takeScreenshot = () => {\r\n    if (!viewer) return;\r\n    \r\n    try {\r\n      const imgData = viewer.pngURI();\r\n      const a = document.createElement('a');\r\n      a.href = imgData;\r\n      a.download = 'molecule.png';\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n    } catch (err) {\r\n      console.error('Error taking screenshot:', err);\r\n    }\r\n  };\r\n\r\n  // Handle style change\r\n  const handleStyleChange = (event) => {\r\n    setModelStyle(event.target.value);\r\n  };\r\n\r\n  // Handle surface type change\r\n  const handleSurfaceTypeChange = (event) => {\r\n    setSurfaceType(event.target.value);\r\n  };\r\n\r\n  // Toggle surface visibility\r\n  const toggleSurface = () => {\r\n    setIsSurfaceVisible(!isSurfaceVisible);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div \r\n        ref={containerRef}\r\n        className={isFullscreen ? classes.fullscreenContainer : classes.viewerContainer}\r\n        style={!isFullscreen ? { height: `${height}px`, width } : {}}\r\n      >\r\n        {isLoading ? (\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"100%\">\r\n            <Typography variant=\"h6\">Loading molecule...</Typography>\r\n          </Box>\r\n        ) : error ? (\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"100%\">\r\n            <Typography variant=\"h6\" color=\"error\">{error}</Typography>\r\n          </Box>\r\n        ) : (\r\n          <>\r\n            <div className={classes.viewerControls}>\r\n              <Tooltip title={isFullscreen ? \"Exit Fullscreen\" : \"Fullscreen\"}>\r\n                <IconButton size=\"small\" onClick={toggleFullscreen}>\r\n                  {isFullscreen ? <FullscreenExitOutlined /> : <FullscreenOutlined />}\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Reset View\">\r\n                <IconButton size=\"small\" onClick={resetView}>\r\n                  <RefreshOutlined />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Save Image\">\r\n                <IconButton size=\"small\" onClick={takeScreenshot}>\r\n                  <CameraAlt />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n            <div \r\n              ref={viewerRef} \r\n              style={{ width: '100%', height: '100%' }}\r\n              data-testid=\"molecule-viewer-3d\"\r\n            ></div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {showControls && !isLoading && !error && (\r\n        <Paper className={classes.controlsContainer}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} sm={6}>\r\n              <div className={classes.controlRow}>\r\n                <Typography className={classes.controlLabel}>\r\n                  Representation:\r\n                </Typography>\r\n                <FormControl className={classes.formControl}>\r\n                  <Select\r\n                    value={modelStyle}\r\n                    onChange={handleStyleChange}\r\n                    displayEmpty\r\n                  >\r\n                    <MenuItem value=\"stick\">Stick</MenuItem>\r\n                    <MenuItem value=\"line\">Line</MenuItem>\r\n                    <MenuItem value=\"cross\">Cross</MenuItem>\r\n                    <MenuItem value=\"sphere\">Sphere</MenuItem>\r\n                    <MenuItem value=\"ballAndStick\">Ball and Stick</MenuItem>\r\n                    <MenuItem value=\"cartoon\">Cartoon</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </div>\r\n              \r\n              <div className={classes.controlRow}>\r\n                <Typography className={classes.controlLabel}>\r\n                  Surface:\r\n                </Typography>\r\n                <Button \r\n                  variant={isSurfaceVisible ? \"contained\" : \"outlined\"} \r\n                  color={isSurfaceVisible ? \"primary\" : \"default\"}\r\n                  onClick={toggleSurface}\r\n                >\r\n                  {isSurfaceVisible ? \"Hide Surface\" : \"Show Surface\"}\r\n                </Button>\r\n              </div>\r\n              \r\n              {isSurfaceVisible && (\r\n                <>\r\n                  <div className={classes.controlRow}>\r\n                    <Typography className={classes.controlLabel}>\r\n                      Surface Type:\r\n                    </Typography>\r\n                    <FormControl className={classes.formControl}>\r\n                      <Select\r\n                        value={surfaceType}\r\n                        onChange={handleSurfaceTypeChange}\r\n                      >\r\n                        <MenuItem value=\"VDW\">Van der Waals</MenuItem>\r\n                        <MenuItem value=\"SAS\">Solvent Accessible</MenuItem>\r\n                        <MenuItem value=\"SES\">Solvent Excluded</MenuItem>\r\n                        <MenuItem value=\"MS\">Molecular Surface</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </div>\r\n                  \r\n                  <div className={classes.controlRow}>\r\n                    <Typography className={classes.controlLabel}>\r\n                      Opacity:\r\n                    </Typography>\r\n                    <div className={classes.sliderContainer}>\r\n                      <Slider\r\n                        value={surfaceOpacity}\r\n                        min={0}\r\n                        max={1}\r\n                        step={0.1}\r\n                        onChange={(_, newValue) => setSurfaceOpacity(newValue)}\r\n                        aria-labelledby=\"surface-opacity-slider\"\r\n                        className={classes.slider}\r\n                      />\r\n                    </div>\r\n                    <Typography>{surfaceOpacity.toFixed(1)}</Typography>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <div className={classes.controlRow}>\r\n                <Typography className={classes.controlLabel}>\r\n                  Background:\r\n                </Typography>\r\n                <FormControl className={classes.formControl}>\r\n                  <Select\r\n                    value={backgroundColor}\r\n                    onChange={(e) => setBackgroundColor(e.target.value)}\r\n                  >\r\n                    <MenuItem value=\"#ffffff\">White</MenuItem>\r\n                    <MenuItem value=\"#000000\">Black</MenuItem>\r\n                    <MenuItem value=\"#f5f5f5\">Light Gray</MenuItem>\r\n                    <MenuItem value=\"#121212\">Dark Gray</MenuItem>\r\n                    <MenuItem value=\"#e3f2fd\">Light Blue</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </div>\r\n              \r\n              <div className={classes.controlRow}>\r\n                <Typography className={classes.controlLabel}>\r\n                  Auto-Rotate:\r\n                </Typography>\r\n                <div className={classes.sliderContainer}>\r\n                  <Slider\r\n                    value={rotationSpeed}\r\n                    min={0}\r\n                    max={10}\r\n                    step={1}\r\n                    onChange={(_, newValue) => setRotationSpeed(newValue)}\r\n                    aria-labelledby=\"rotation-speed-slider\"\r\n                    className={classes.slider}\r\n                  />\r\n                </div>\r\n                <Typography>{rotationSpeed}</Typography>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nMoleculeViewer3D.propTypes = {\r\n  moleculeData: PropTypes.string,\r\n  format: PropTypes.oneOf(['smiles', 'pdb', 'mol2', 'sdf', 'cif', 'xyz']),\r\n  viewerType: PropTypes.string,\r\n  initialStyle: PropTypes.oneOf(['stick', 'line', 'cross', 'sphere', 'cartoon', 'ballAndStick']),\r\n  showControls: PropTypes.bool,\r\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n};\r\n\r\nexport default MoleculeViewer3D; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}